Avoided duplication of nodes; revised markUp func
2019-12-22 23:22:36

コンパイラが見逃し、実際にSprigしたら吐かれたエラー
Non-exhaustive patterns in function spanLink'
spanLink' :: [Edge] -> [Edge] -> Graph -> Graph
spanLink' [] _ g            = g
spanLink' (t:ts) [] g       = spanLink' ts g g
spanLink' ((p,at):ts) ((q,ah):hs) g   =
    if keyMatch at ah ah then
        spanLink' ((p,at):ts) hs (spanLink'' p q g)
    else
        spanLink' ((p,at):ts) hs g
2019-12-23 02:52:16

↑ なぜか直ってしまった
taskFromEdge' と aAttr の変更が関係している？
2019-12-23 14:35:37

`Non-exhaustive patterns` はコンパイル通ることがあるのですね、気をつけなければ
2019-12-23 14:39:12

返答：
GHCに -Werror と -Wall オプションを付ければエラーにすることができます。
stack build --pedantic はそのショートカットです。 
2019-12-23 15:34:16

以前Pythonで実装した、graphFromText（約120行）に相当する部分を振り返ると、約250行かけていた
しかも2回目以降の登録を考慮していなかったため、shiftNodesが抜けている
2019-12-23 15:42:19

